let all_product = [
  {
    id: 1,
    name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
    category: "women",
    image: "./Assets/product_1.png",
    new_price: 50.0,
    old_price: 80.5,
  },
  {
    id: 2,
    name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
    category: "women",
    image: "./Assets/product_2.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 3,
    name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
    category: "women",
    image: "./Assets/product_3.png",
    new_price: 60.0,
    old_price: 100.5,
  },
  {
    id: 4,
    name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
    category: "women",
    image: "./Assets/product_4.png",
    new_price: 100.0,
    old_price: 150.0,
  },
  {
    id: 5,
    name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
    category: "women",
    image: "./Assets/product_5.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 6,
    name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
    category: "women",
    image: "./Assets/product_6.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 7,
    name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
    category: "women",
    image: "./Assets/product_7.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 8,
    name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
    category: "women",
    image: "./Assets/product_8.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 9,
    name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
    category: "women",
    image: "./Assets/product_9.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 10,
    name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
    category: "women",
    image: "./Assets/product_10.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 11,
    name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
    category: "women",
    image: "./Assets/product_11.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 12,
    name: "Striped Flutter Sleeve Overlap Collar Peplum Hem Blouse",
    category: "women",
    image: "./Assets/product_12.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 13,
    name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
    category: "men",
    image: "./Assets/product_13.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 14,
    name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
    category: "men",
    image: "./Assets/product_14.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 15,
    name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
    category: "men",
    image: "./Assets/product_15.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 16,
    name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
    category: "men",
    image: "./Assets/product_16.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 17,
    name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
    category: "men",
    image: "./Assets/product_17.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 18,
    name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
    category: "men",
    image: "./Assets/product_18.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 19,
    name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
    category: "men",
    image: "./Assets/product_19.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 20,
    name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
    category: "men",
    image: "./Assets/product_20.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 21,
    name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
    category: "men",
    image: "./Assets/product_21.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 22,
    name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
    category: "men",
    image: "./Assets/product_22.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 23,
    name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
    category: "men",
    image: "./Assets/product_23.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 24,
    name: "Men Green Solid Zippered Full-Zip Slim Fit Bomber Jacket",
    category: "men",
    image: "./Assets/product_24.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 25,
    name: "Boys Orange Colourblocked Hooded Sweatshirt",
    category: "kid",
    image: "./Assets/product_25.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 26,
    name: "Boys Orange Colourblocked Hooded Sweatshirt",
    category: "kid",
    image: "./Assets/product_26.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 27,
    name: "Boys Orange Colourblocked Hooded Sweatshirt",
    category: "kid",
    image: "./Assets/product_27.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 28,
    name: "Boys Orange Colourblocked Hooded Sweatshirt",
    category: "kid",
    image: "./Assets/product_28.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 29,
    name: "Boys Orange Colourblocked Hooded Sweatshirt",
    category: "kid",
    image: "./Assets/product_29.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 30,
    name: "Boys Orange Colourblocked Hooded Sweatshirt",
    category: "kid",
    image: "./Assets/product_30.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 31,
    name: "Boys Orange Colourblocked Hooded Sweatshirt",
    category: "kid",
    image: "./Assets/product_31.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 32,
    name: "Boys Orange Colourblocked Hooded Sweatshirt",
    category: "kid",
    image: "./Assets/product_32.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 33,
    name: "Boys Orange Colourblocked Hooded Sweatshirt",
    category: "kid",
    image: "./Assets/product_33.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 34,
    name: "Boys Orange Colourblocked Hooded Sweatshirt",
    category: "kid",
    image: "./Assets/product_34.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 35,
    name: "Boys Orange Colourblocked Hooded Sweatshirt",
    category: "kid",
    image: "./Assets/product_35.png",
    new_price: 85.0,
    old_price: 120.5,
  },
  {
    id: 36,
    name: "Boys Orange Colourblocked Hooded Sweatshirt",
    category: "kid",
    image: "./Assets/product_36.png",
    new_price: 85.0,
    old_price: 120.5,
  },
];

let cart = [];

document.addEventListener("DOMContentLoaded", function () {
  let productdetail = document.querySelector(".product-display");
  const urlParams = new URLSearchParams(window.location.search);
  const productId = parseInt(urlParams.get("id"));

  const selectedProduct = all_product.find(
    (product) => product.id == productId
  );
  if (selectedProduct) {
    productdetail.innerHTML = `<div class="product-display-left">
      <div class="product-display-img-list">
          <img src=${selectedProduct.image} alt="" />
          <img src=${selectedProduct.image} alt="" />
          <img src=${selectedProduct.image} alt="" />
          <img src=${selectedProduct.image} alt="" />
      </div>
      <div class="product-display-img">
          <img src=${selectedProduct.image} alt=""  class='product-display-main-img'/>
      </div>
  </div>
  <div class="product-display-right">
      <h1>${selectedProduct.name}</h1>
      <div class="product-display-right-star">
          <img src="Assets/star_icon.png" alt="" />
          <img src="Assets/star_icon.png" alt="" />
          <img src="Assets/star_icon.png" alt="" />
          <img src="Assets/star_icon.png" alt="" />
          <img src="Assets/star_dull_icon.png" alt="" />
          <p>(122)</p>
      </div>
      <div class="product-display-right-prices">
          <div class="product-display-right-price-new">Rs ${selectedProduct.new_price}</div>
          <div class="product-display-right-price-old">Rs ${selectedProduct.old_price}</div>
      </div>
      <div class="product-display-right-description">
          <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Reprehenderit, velit ipsa. Eum assumenda sequi nisi.</p>
      </div>
      <div class="product-display-right-size">
          <h1>SELECT SIZE</h1>
          <div class="product-display-right-sizes">
              <div>S</div>
              <div>M</div>
              <div>L</div>
              <div>XL</div>
              <div>XXL</div>
          </div>
      </div>
      <button class='add-to-cart' product-id="${selectedProduct.id}" product-name="${selectedProduct.name}" product-price="${selectedProduct.new_price}">Add to cart</button>
  </div>
  </div>`;

    let addToCartButton = document.querySelector(".add-to-cart");
    addToCartButton.addEventListener("click", function () {
      addtocart(selectedProduct);
    });
  } else {
    productdetail.innerHTML = `product not found`;
  }

  function addtocart() {
    cart.push(selectedProduct);
    displaycart();
  }

  function displaycart() {
    const cartContainer = document.querySelector("#cart-items");
    if (cart.length == 0) {
      cartContainer.innerHTML = "your cart is empty";
    } else {
      cartContainer.innerHTML = cart
        .map((item) => {
          return `<img class="row-img" src=${item.image}>
        <p style='font-size:12px'>${item.name}</p>
        <h2 style='font-size:15px'>${item.new_price}</h2>
        `;
        })
        .join("");
    }
  }
});
 